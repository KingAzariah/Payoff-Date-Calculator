<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Payoff Date Calculator</title>

<style>
:root{
  --navy: #0B2D42;
  --gold: #C6A663;
  --gold-light: #D8B97A;
  --white: #FFFFFF;
  --gray-light: #E6E6E6;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: var(--navy);
  color: var(--white);
  min-height:100vh;
}

.container{
  max-width:1100px;
  margin:auto;
  padding:60px 20px;
}

/* HERO HEADER */
.hero-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:40px;
  margin-bottom:60px;
}

.hero-text h1{
  font-size:46px;
  font-weight:300;
  margin:0;
  line-height:1.2;
}

.logo{
  height:75px;
  width:auto;
}

/* CARD */
.card{
  background: rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.1);
  border-radius:12px;
  padding:30px;
  max-width:600px;
  backdrop-filter: blur(6px);
}

label{
  font-size:14px;
  display:block;
  margin-bottom:6px;
  color:var(--gray-light);
}

/* Bigger date input (in most browsers this also makes the popup calendar larger) */
input[type="date"]{
  width:100%;
  padding:18px;
  border-radius:10px;
  border:none;
  font-size:20px;          /* bigger */
  margin-bottom:24px;
  cursor:pointer;
}

.button{
  background: var(--gold);
  color:#1A1A1A;
  padding:14px 28px;
  border:none;
  border-radius:8px;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
  transition:0.3s ease;
}

.button:hover{ background: var(--gold-light); }

.result{
  margin-top:30px;
  font-size:42px;
  font-weight:600;
  color:var(--gold);
}

.small{
  font-size:14px;
  margin-top:10px;
  color:var(--gray-light);
}

/* RESPONSIVE */
@media (max-width:768px){
  .hero-header{
    flex-direction:column;
    align-items:flex-start;
    gap:25px;
  }

  .logo{ height:60px; }

  .hero-text h1{ font-size:34px; }

  input[type="date"]{ font-size:18px; padding:16px; }
}
</style>
</head>

<body>
  <div class="container">

    <!-- HEADER -->
    <div class="hero-header">
      <div class="hero-text">
        <h1>
          Calculate Legal Days<br>
          Between Payment & Payoff
        </h1>
      </div>

    </div>

    <!-- CALCULATOR -->
    <div class="card">
      <label for="startDate">Most Recent Payment Date</label>
      <input type="date" id="startDate">

      <label for="endDate">Payoff Date</label>
      <input type="date" id="endDate">

      <button class="button" type="button" onclick="calculate()">CALCULATE DAYS</button>

      <div class="result" id="result">—</div>
      <div class="small" id="details"></div>
    </div>

  </div>

<script>
/* ---------- DATE HELPERS (timezone-safe for <input type="date">) ---------- */
function parseDateInputToLocal(yyyy_mm_dd){
  const [y, m, d] = yyyy_mm_dd.split("-").map(Number);
  return new Date(y, m - 1, d); // local midnight (prevents "day before" issue)
}

function formatYYYYMMDDLocal(date){
  const y = date.getFullYear();
  const m = String(date.getMonth() + 1).padStart(2, "0");
  const d = String(date.getDate()).padStart(2, "0");
  return `${y}-${m}-${d}`;
}

/* ---------- DEFAULT PAYOFF DATE = TODAY ---------- */
window.addEventListener("DOMContentLoaded", () => {
  const today = new Date();
  document.getElementById("endDate").value = formatYYYYMMDDLocal(today);
});

/* ---------- CALCULATION (Calendar days: weekends + holidays INCLUDED) ---------- */
function calculate(){
  const startVal = document.getElementById("startDate").value;
  const endVal = document.getElementById("endDate").value;

  if(!startVal || !endVal){
    alert("Please select both dates.");
    return;
  }

  const paymentDate = parseDateInputToLocal(startVal);
  const payoffDate = parseDateInputToLocal(endVal);

  if(payoffDate < paymentDate){
    alert("Payoff date must be after payment date.");
    return;
  }

  // ✅ Calendar days difference.
  // Default behavior: EXCLUDE the payment date, INCLUDE the payoff date.
  // Example: payment 1/1, payoff 1/2 => 1 day
  //
  // If you ever need to INCLUDE the payment date too, set includePaymentDate = true.
  const includePaymentDate = false;

  const start = includePaymentDate ? paymentDate : new Date(paymentDate.getFullYear(), paymentDate.getMonth(), paymentDate.getDate() + 1);
  const end = payoffDate;

  if (end < start) {
    document.getElementById("result").textContent = "0 Days";
    document.getElementById("details").textContent =
      "No days between " + paymentDate.toLocaleDateString() + " and " + payoffDate.toLocaleDateString() + ".";
    return;
  }

  const msPerDay = 24 * 60 * 60 * 1000;
  const diffDays = Math.floor((end.getTime() - start.getTime()) / msPerDay) + 1; // +1 to include payoff date

  document.getElementById("result").textContent = diffDays + " Days";
  document.getElementById("details").textContent =
    "Counting calendar days from " +
    paymentDate.toLocaleDateString() +
    " to " +
    payoffDate.toLocaleDateString() +
    " (weekends/holidays included).";
}
</script>
</body>
</html>
